[gd_scene load_steps=11 format=3 uid="uid://b25xc8rg2w0wb"]

[ext_resource type="Script" path="res://scenes/stores/nuclear_bomb/nuclear_bomb.gd" id="1_wk13y"]
[ext_resource type="Texture2D" uid="uid://deh28ywd0ub80" path="res://resources/images/store/nuclear_bomb.png" id="2_oprel"]
[ext_resource type="Texture2D" uid="uid://cilbhg462smko" path="res://resources/images/store/nuclear_bomb_fly.png" id="3_a8hq8"]
[ext_resource type="AudioStream" uid="uid://dm3m3nmm7d1bh" path="res://resources/sound/battlefield/Tieng-lua-chay.mp3" id="3_hkec7"]
[ext_resource type="Texture2D" uid="uid://8amuv4b2rp5w" path="res://resources/images/store/explosion_mushroom.png" id="4_qx62p"]

[sub_resource type="Animation" id="Animation_k3r0e"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("bom_animation/rocket_launch:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0]
}

[sub_resource type="Animation" id="Animation_bpwqt"]
resource_name = "explosion"
length = 5.2
loop_mode = 1
step = 0.2
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("bom_animation/explosion_mushroom:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.2, 0.4, 0.6, 0.8, 1, 1.2, 1.4, 1.6, 1.8, 2, 2.2, 2.4, 2.6, 2.8, 3, 3.2, 3.4, 3.6, 3.8, 4, 4.2, 4.4, 4.6, 4.8, 5, 5.2),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 25]
}

[sub_resource type="Animation" id="Animation_fqt8n"]
resource_name = "launch"
length = 1.5
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("bom_animation/rocket_launch:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.25, 0.5, 0.75, 1, 1.25),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_fl247"]
_data = {
"RESET": SubResource("Animation_k3r0e"),
"explosion": SubResource("Animation_bpwqt"),
"launch": SubResource("Animation_fqt8n")
}

[sub_resource type="RectangleShape2D" id="RectangleShape2D_oa1yv"]
resource_local_to_scene = true
size = Vector2(124.71, 332.335)

[node name="NuclearBomb" type="CharacterBody2D"]
collision_layer = 0
script = ExtResource("1_wk13y")

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
autoplay = "launch"
reset_on_save = false
libraries = {
"": SubResource("AnimationLibrary_fl247")
}

[node name="AttackCooldownTimer" type="Timer" parent="."]
wait_time = 10.0
one_shot = true

[node name="bom_animation" type="Node2D" parent="."]

[node name="Control_rocket" type="Control" parent="bom_animation"]
layout_mode = 3
anchors_preset = 0
offset_left = 240.349
offset_top = 227.457
offset_right = 280.349
offset_bottom = 267.457
scale = Vector2(5.43675, 10.3091)

[node name="rocket" type="Sprite2D" parent="bom_animation/Control_rocket"]
position = Vector2(19.6167, 19.7441)
scale = Vector2(0.0919667, 0.048501)
texture = ExtResource("2_oprel")
hframes = 3
region_rect = Rect2(4, 4, 178, 185)

[node name="rocket_launch" type="Sprite2D" parent="bom_animation"]
visible = false
position = Vector2(349, 546)
scale = Vector2(0.66, 0.66)
texture = ExtResource("3_a8hq8")
hframes = 6

[node name="explosion_mushroom" type="Sprite2D" parent="bom_animation"]
visible = false
position = Vector2(622.786, 262.824)
scale = Vector2(0.9, 0.9)
texture = ExtResource("4_qx62p")
hframes = 9
vframes = 3

[node name="Node" type="Node" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(551, -27)
shape = SubResource("RectangleShape2D_oa1yv")

[node name="move" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("3_hkec7")
volume_db = -5.0
autoplay = true
bus = &"InBattleFX"

[connection signal="input_event" from="." to="." method="_on_input_event"]
[connection signal="gui_input" from="bom_animation/Control_rocket" to="." method="_on_control_gui_input"]
